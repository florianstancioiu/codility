Optimization tips:

Avoid intricate for statements
Avoid creating array variables
Reduce the number of variables
Reduce the number of if statements
Reduce the number of for statements

---------------------------------------------------------------

Testing tips:

Test for at least 7 different additional cases:

Empty array
One element array
Two elements array
Three elements array with something wrong on the first element
Three elements array with something wrong on the last element
Three elements array, all having the same value
Three elements array, all having extreme values
